<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css?v=1.1">
    <title>Document</title>
    <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon"/>
    <link rel="icon" href="images/favicon.png" type="image/x-icon"/>
</head>
<body class="rosterBody">
    <header>
        <a href="index.html" class="logo"><img src="images/calicehockeylogo2.png" alt="California"></a>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="schedule.html">Schedule</a></li>
            <li><a href="#">Roster</a></li>
            <li><a href="staff.html">Staff</a></li>
            <li><a href="articles.html">Articles</a></li>
            <li><a href="https://forms.gle/nP5RbMVFuc2RLnWz9" target="_blank">Recruits</a></li>
            <li><a href="https://forms.gle/iUhuvuu1Cd8nx1Cd6" target="_blank">Alumni</a></li>
            <li class="dropdown">
                <a>Team</a>
                <ul class="dropdown-menu">
                    <li><a href="login.php">Login</a></li>
                    <li><a href="index.html">...</a></li>
                </ul>
            </li>
        </ul>
    </header>
    <section class="whole">
        <section class="gap"></section>
        <div class="rosterContainer">
            <input type="radio" name="slider" id="forwards" checked>
            <input type="radio" name="slider" id="defense">
            <input type="radio" name="slider" id="goalies">
            <nav>
                <label for="forwards" class="forwards">Forwards</label>
                <label for="defense" class="defense">Defensemen</label>
                <label for="goalies" class="goalies">Goalies</label>
                <div class="slider"></div>
            </nav>
            <section class="mobileContainer" id="rosterContainer">
                <!-- Roster content will be loaded here by JavaScript -->
            </section>
            <script type="text/javascript">
                async function loadRoster() {
                    try {
                        const response = await fetch('roster-data.json');
                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                        const data = await response.json();
                        const players = data.roster;

                        // Filter players by position
                        const goalies = players.filter(p => p.position === 'goalie');
                        const forwards = players.filter(p => p.position === 'forward');
                        const defensemen = players.filter(p => p.position === 'defense');

                        // Create container for all sections
                        const rosterContainer = document.getElementById('rosterContainer');
                        rosterContainer.innerHTML = ''; // Clear placeholder comment

                        // Create goalies section
                        const goalieSection = createRosterSection('goalieContent', goalies);
                        rosterContainer.appendChild(goalieSection);

                        // Create forwards section
                        const forwardSection = createRosterSection('forwardContent', forwards);
                        rosterContainer.appendChild(forwardSection);

                        // Create defense section
                        const defenseSection = createRosterSection('defenseContent', defensemen);
                        rosterContainer.appendChild(defenseSection);

                    } catch (error) {
                        console.error('Error loading roster:', error);
                        document.getElementById('rosterContainer').innerHTML = '<p>Error loading roster data</p>';
                    }
                }

                // Create a single player card element
                function createPlayerCard(player) {
                    const slot = document.createElement('div');
                    slot.className = 'rosterSlot';

                    slot.innerHTML = `
                        <div class="leftSide">
                            <img src="${player.image}" alt="${player.name}" onerror="this.src='images/blank-profile-picture-973460_960_720.jpeg'">
                        </div>
                        <div class="rightSide">
                            <div class="top">
                                <h2>#${player.number || '?'} ${player.name}</h2>
                            </div>
                            <div class="bio">
                                <div class="leftbio">
                                    <p><strong>Position:</strong></p>
                                    <p>${player.position.charAt(0).toUpperCase() + player.position.slice(1)}</p>
                                </div>
                                <div class="rightbio">
                                    <p><strong>Class:</strong></p>
                                    <p>${player.class}</p>
                                </div>
                            </div>
                            <div class="greyline"></div>
                            <div class="below">
                                <div style="flex-basis: 50%;">
                                    <p><strong>Height:</strong> ${player.height}</p>
                                </div>
                                <div style="flex-basis: 50%;">
                                    <p><strong>${player.handedness}:</strong> ${player.hand}</p>
                                </div>
                            </div>
                            <p><strong>Hometown:</strong> ${player.hometown}</p>
                        </div>
                    `;

                    return slot;
                }

                function createRosterSection(className, players) {
                    const section = document.createElement('div');
                    section.className = `content ${className}`;

                    players.forEach(player => {
                        section.appendChild(createPlayerCard(player));
                    });

                    return section;
                }

                // Load roster when page loads
                document.addEventListener('DOMContentLoaded', loadRoster);
            </script>
        </div>
    </section>
    <section class="rosterBottom">
        <section class="socialmediacontainer">
            <div class="FollowUs">Follow Us:</div>
            <div><a href="https://www.instagram.com/calicehockey/?utm_source=ig_web_button_share_sheet&igshid=OGQ5ZDc2ODk2ZA==" target="_blank"><img src="images/new-instagram-logo-white-border-icon-png-large.png" alt="Intagram"></a></div>
            <div><a href="https://www.tiktok.com/@californiaicehockey" target="_blank"><img src="images/tiktok-round-white-icon.webp" alt="TikTok"></a></div>
            <div><a href="https://x.com/Cal_IceHockey" target="_blank"><img src="images/x-social-media-white-round-icon.png" alt="X"></a></div>
        </section>
    </section>
    <script type="text/javascript">
        window.addEventListener("scroll", function(){
            var header = document.querySelector("header");
            header.classList.toggle("sticky", window.scrollY > 0);
        })
    </script>
</body>
</html>